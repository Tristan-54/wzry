<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‹è€…è£è€€è‹±é›„è½¬ç›˜</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #2c3e50;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* é˜²æ­¢æ—‹è½¬æ—¶å‡ºç°æ»šåŠ¨æ¡ */
        }

        h1 { margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }

        /* åˆ†è·¯é€‰æ‹©æŒ‰é’®ç»„ */
        .lane-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .lane-btn {
            padding: 8px 16px;
            border: 2px solid #fff;
            background: transparent;
            color: #fff;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .lane-btn:hover { background-color: rgba(255,255,255,0.2); }
        
        .lane-btn.active {
            background-color: #f1c40f;
            color: #2c3e50;
            border-color: #f1c40f;
            transform: scale(1.1);
        }

        .wheel-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin-bottom: 30px;
        }

        #wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 5px solid #ecf0f1;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }

        /* æŒ‡é’ˆ */
        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid #e74c3c;
            filter: drop-shadow(0 4px 2px rgba(0,0,0,0.3));
        }

        #spin-btn {
            padding: 15px 50px;
            font-size: 22px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 #c0392b;
            transition: all 0.1s;
            font-weight: bold;
        }

        #spin-btn:active {
            transform: translateY(6px);
            box-shadow: none;
        }

        #spin-btn:disabled {
            background-color: #95a5a6;
            box-shadow: none;
            cursor: not-allowed;
            transform: translateY(6px);
        }

        #result {
            margin-top: 20px;
            font-size: 24px;
            height: 30px;
            color: #f1c40f;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>ğŸ® ç‹è€…è£è€€å…¨è‹±é›„è½¬ç›˜</h1>
    
    <div class="lane-selector">
        <button class="lane-btn" onclick="switchLane('clash', this)">å¯¹æŠ—è·¯</button>
        <button class="lane-btn" onclick="switchLane('jungle', this)">æ‰“é‡</button>
        <button class="lane-btn active" onclick="switchLane('mid', this)">ä¸­è·¯</button>
        <button class="lane-btn" onclick="switchLane('farm', this)">å‘è‚²è·¯</button>
        <button class="lane-btn" onclick="switchLane('support', this)">æ¸¸èµ°</button>
    </div>

    <div class="wheel-container">
        <div class="pointer"></div>
        <canvas id="wheel" width="600" height="600"></canvas>
    </div>

    <button id="spin-btn" onclick="spinWheel()">ğŸš€ å¼€å§‹æŠ½é€‰</button>
    <div id="result">è¯·é€‰æ‹©åˆ†è·¯å¹¶å¼€å§‹</div>

    <script>
        // === è‹±é›„æ•°æ®æ±  (å¯æŒ‰éœ€ä¿®æ”¹) ===
        const heroData = {
            clash: ["ç™½èµ·", "æ›¹æ“", "å«¦å¨¥", "ç¨‹å’¬é‡‘", "è¾¾æ‘©", "å…¸éŸ¦", "è²‚è‰", "ä¸œçš‡å¤ªä¸€", "å…³ç¾½", "éŸ©ä¿¡", "èŠ±æœ¨å…°", "å§¬å°æ»¡","æ©˜å³äº¬", "é“ ", "ç‹‚é“", "æ¾œ", "è€å¤«å­", "æä¿¡", "å»‰é¢‡", "åˆ˜é‚¦","é©¬è¶…", "è’™æ¬", "æ¢¦å¥‡", "å“ªå’","ç›˜å¤","å¸ç©ºéœ‡","è‹çƒˆ", "å­™ç­–","å¤æ´›ç‰¹", "å¤ä¾¯æƒ‡", "é¡¹ç¾½", "é›…å…¸å¨œ", "äºšè¿", "äºšç‘Ÿ", "æ¨æˆ¬","å…ƒæ­Œ","èµµäº‘", "é’Ÿæ— è‰³","åº„å‘¨", "èŠˆæœˆ", "æ›œ", "çŒªå…«æˆ’"],
            jungle: ["é˜¿è½²", "ç™¾é‡Œç„ç­–", "æ›¹æ“", "å…¸éŸ¦", "å®«æœ¬æ­¦è—", "éŸ©ä¿¡", "æ©˜å³äº¬", "é“ ", "å…°é™µç‹", "æç™½", "åˆ˜å¤‡", "æšƒ", "å¨œå¯éœ²éœ²", "è£´æ“’è™", "å¸é©¬æ‡¿", "å­™æ‚Ÿç©º", "èµµäº‘", "äº‘ç¼¨", "äº‘ä¸­å›", "é•œ", "æ¾œ", "æ›œ", "é›…å…¸å¨œ","å«¦å¨¥", "èŠˆæœˆ", "éœ²å¨œ", "å¸ç©ºéœ‡","æˆå‰æ€æ±—","æå…ƒèŠ³","é˜¿å¤æœµ", "å¤ä¾¯æƒ‡","ç›˜å¤","çŒªå…«æˆ’","èµµæ€€çœŸ","ç™½èµ·","æ¢¦å¥‡"],
            mid: ["å®‰çªæ‹‰", "æ‰é¹Š", "ä¸çŸ¥ç«èˆ", "å«¦å¨¥", "å¦²å·±", "è²‚è‰", "å¹²å°†è«é‚ª", "é«˜æ¸ç¦»", "æµ·æœˆ", "å§œå­ç‰™", "é‡‘è‰", "ç±³è±ç‹„", "å¢¨å­", "å¥³å¨²", "ä¸Šå®˜å©‰å„¿", "æ²ˆæ¢¦æºª", "ç‹æ˜­å›", "æ­¦åˆ™å¤©", "è¥¿æ–½", "å°ä¹”", "æ¨ç‰ç¯", "å¼ˆæ˜Ÿ", "å¬´æ”¿", "å¼ è‰¯", "ç”„å§¬", "å‘¨ç‘œ", "è¯¸è‘›äº®","å¤§ä¹”"],
            farm: ["é©¬å¯æ³¢ç½—", "å­™å°šé¦™", "é²ç­ä¸ƒå·", "ç™¾é‡Œå®ˆçº¦", "ä¼½ç½—", "åç¾¿", "ç‹„ä»æ°", "å…¬å­™ç¦»", "è™å§¬", "æå…ƒèŠ³", "é»„å¿ ", "è‰¾ç³", "æˆˆå¨…", "è±è¥¿å¥¥","å…ƒæµä¹‹å­","å­™æƒ","é˜¿å¤æœµ","è‹","æ•–éš","è’™çŠ½"],
            support: ["ç‘¶", "è”¡æ–‡å§¬", "æœµè‰äºš", "å­™è†‘", "å¤§ä¹”", "å¼ é£", "ä¸œçš‡å¤ªä¸€", "åº„å‘¨", "æ˜ä¸–éš", "é²ç­å¤§å¸ˆ", "åˆ˜ç¦…", "é¬¼è°·å­", "æ¡‘å¯", "é’Ÿé¦—","å…ƒæµä¹‹å­","å¤§ç¦¹","ç©ºç©ºå„¿","é‚µæ€æº","å¤ªä¹™çœŸäºº","ç‰›é­”","ç›¾å±±","è‹çƒˆ"]
        };

        // å½“å‰çŠ¶æ€
        let currentList = heroData.mid; // é»˜è®¤ä¸­è·¯
        let isSpinning = false;
        let currentRotation = 0;

        // é¢œè‰²é…ç½®
        const colors = ['#3498db', '#e67e22', '#9b59b6', '#2ecc71', '#e74c3c', '#1abc9c', '#f1c40f'];

        // Canvas è®¾ç½®
        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const size = 600; // ç”»å¸ƒåˆ†è¾¨ç‡
        const centerX = size / 2;
        const centerY = size / 2;
        const radius = size / 2 - 10; // ç•™ä¸€ç‚¹è¾¹è·

        // === æ ¸å¿ƒåŠŸèƒ½å‡½æ•° ===

        // 1. åˆ‡æ¢åˆ†è·¯
        function switchLane(laneKey, btnElement) {
            if (isSpinning) return; // æ—‹è½¬ä¸­ç¦æ­¢åˆ‡æ¢

            // æ›´æ–°æŒ‰é’®æ ·å¼
            document.querySelectorAll('.lane-btn').forEach(btn => btn.classList.remove('active'));
            btnElement.classList.add('active');

            // æ›´æ–°æ•°æ®
            currentList = heroData[laneKey];
            
            // é‡ç½®è½¬ç›˜è§’åº¦ (è§†è§‰ä¸Šé‡ç½®ï¼Œä¸ºäº†åŠ¨ç”»è¿è´¯æ€§å…¶å®ä¸éœ€è¦ï¼Œä½†ä¸ºäº†é€»è¾‘æ¸…æ™°)
            // currentRotation = 0; 
            // canvas.style.transform = `rotate(${currentRotation}deg)`;
            
            // æ›´æ–°æç¤º
            document.getElementById('result').innerText = "å·²åˆ‡æ¢è‹±é›„æ± ï¼Œå‡†å¤‡å°±ç»ª";
            
            // é‡ç»˜
            drawWheel();
        }

        // 2. ç»˜åˆ¶è½¬ç›˜
        function drawWheel() {
            ctx.clearRect(0, 0, size, size);
            const step = (2 * Math.PI) / currentList.length;
            const startOffset = -Math.PI / 2; // è®©ç¬¬ä¸€ä¸ªæ‰‡åŒºå‚ç›´å‘ä¸Š

            for (let i = 0; i < currentList.length; i++) {
                const startAngle = startOffset + i * step;
                const endAngle = startOffset + (i + 1) * step;

                // ç»˜åˆ¶æ‰‡å½¢
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.fillStyle = colors[i % colors.length];
                ctx.fill();
                ctx.lineWidth = 2;
                ctx.strokeStyle = "#fff";
                ctx.stroke();

                // ç»˜åˆ¶æ–‡å­—
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + step / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#fff";
                ctx.font = "bold 28px Microsoft YaHei"; // å­—ä½“è°ƒå¤§ä¸€ç‚¹
                ctx.shadowColor = "rgba(0,0,0,0.5)";
                ctx.shadowBlur = 4;
                ctx.fillText(currentList[i], radius - 30, 10);
                ctx.restore();
            }
        }

        // 3. æ—‹è½¬é€»è¾‘
        function spinWheel() {
            if (isSpinning) return;
            isSpinning = true;

            const btn = document.getElementById('spin-btn');
            const resultDiv = document.getElementById('result');
            
            btn.disabled = true;
            resultDiv.innerText = "ğŸŒ€ å‘½è¿é½¿è½®è½¬åŠ¨ä¸­...";

            // éšæœºæ—‹è½¬åœˆæ•° + éšæœºè§’åº¦
            // åŸºç¡€è½¬5åœˆ(1800åº¦) + éšæœº0-360åº¦
            const randomDeg = Math.floor(1800 + Math.random() * 360); 
            currentRotation += randomDeg;

            // åº”ç”¨ CSS æ—‹è½¬
            canvas.style.transform = `rotate(${currentRotation}deg)`;

            // ç­‰å¾…åŠ¨ç”»ç»“æŸ (4ç§’)
            setTimeout(() => {
                isSpinning = false;
                btn.disabled = false;
                showResult();
            }, 4000);
        }

        // 4. è®¡ç®—ç»“æœ
        function showResult() {
            const actualDeg = currentRotation % 360;
            const sliceDeg = 360 / currentList.length;
            
            // è®¡ç®—ç´¢å¼•é€»è¾‘ï¼š
            // æŒ‡é’ˆåœ¨æ­£ä¸Šæ–¹(0åº¦)ã€‚è½¬ç›˜é¡ºæ—¶é’ˆè½¬äº† actualDegã€‚
            // ç›¸å½“äºæŒ‡é’ˆé€†æ—¶é’ˆåˆ’è¿‡äº† actualDegã€‚
            // æˆ–è€…æ˜¯ (360 - actualDeg) å¤„çš„æ‰‡åŒºç°åœ¨ä½äºæ­£ä¸Šæ–¹ã€‚
            let index = Math.floor((360 - actualDeg) / sliceDeg);
            index = index % currentList.length; // é˜²æ­¢è®¡ç®—è¯¯å·®å¯¼è‡´çš„è¶Šç•Œ

            const hero = currentList[index];
            const resultDiv = document.getElementById('result');
            
            // æ’­æ”¾ç®€å•çš„éœ‡åŠ¨æ•ˆæœï¼ˆè§†è§‰ï¼‰
            resultDiv.style.transform = "scale(1.2)";
            setTimeout(() => resultDiv.style.transform = "scale(1)", 200);

            resultDiv.innerHTML = `ğŸ‰ è¿™ä¸€æŠŠç©ï¼š<span style="color:#e74c3c;font-size:30px">${hero}</span>ï¼`;
        }

        // åˆå§‹åŒ–
        drawWheel();

    </script>
</body>
</html>